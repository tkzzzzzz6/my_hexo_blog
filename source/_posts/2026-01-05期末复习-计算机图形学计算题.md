---
title: 2026-01-05期末复习-计算机图形学计算题
date: 2026-01-05
tags:
  - 期末复习
---

# 计算题试题

![1767863680568.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767863680568.png)



![1767863872852.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767863872852.png)

分辨率 $1024\times 768$，总像素数先算清楚：

$1024\times 768 = 786{,}432$ 个像素。

可显示色彩 $1024$ 色 ⇒ 每个像素需要的位数是  
$\log_2(1024)=10$ bit/像素（因为 $1024=2^{10}$）。

所以帧缓冲大小：

- **总比特数**：$786{,}432 \times 10 = 7{,}864{,}320$ bit
- **换算成字节**：$7{,}864{,}320 / 8 = 983{,}040$ Byte
- **换算成 KiB / MiB**：  
	$983{,}040 / 1024 = 960$ KiB  
	$960 / 1024 = 0.9375$ MiB

**答案：帧缓冲至少需要 983,040 B = 960 KiB ≈ 0.94 MiB。**

（现实硬件里通常会按 16 bit/像素对齐存储，那就会更大，但题目按理论最小值就是上面这个。）


![1767863774058.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767863774058.png)

该问题可视为绕点 $(2,6)$ 的非均匀缩放变换。该变换可通过平移与缩放的复合实现，即先将该点平移至原点，执行缩放变换，再将坐标系平移回原位置。

相应的齐次坐标变换矩阵可表示为

$$
M = T(2,6)\, S \, T(-2,-6),
$$

其中

$$
T(-2,-6)= \begin{bmatrix} 1&0&-2\\ 0&1&-6\\ 0&0&1 \end{bmatrix},\quad S= \begin{bmatrix} 2&0&0\\ 0&0.2&0\\ 0&0&1 \end{bmatrix},\quad T(2,6)= \begin{bmatrix} 1&0&2\\ 0&1&6\\ 0&0&1 \end{bmatrix}.
$$

为快速得到等效单矩阵，可利用二维仿射变换在齐次坐标下的分块形式

$$
M_i= \begin{bmatrix} A_i & \mathbf t_i\\ 0 & 1 \end{bmatrix},
$$

其中 $A_i\in\mathbb R^{2\times2}$ 为线性部分，$\mathbf t_i\in\mathbb R^{2}$ 为平移部分。由分块矩阵乘法可得复合规则

$$
\begin{aligned}
\begin{bmatrix}
A_3 & \mathbf t_3\\
0 & 1
\end{bmatrix}
\begin{bmatrix}
A_2 & \mathbf t_2\\
0 & 1
\end{bmatrix}
\begin{bmatrix}
A_1 & \mathbf t_1\\
0 & 1
\end{bmatrix}
&=
\begin{bmatrix}
A_3 & \mathbf t_3\\
0 & 1
\end{bmatrix}
\begin{bmatrix}
A_2A_1 & A_2\mathbf t_1+\mathbf t_2\\
0 & 1
\end{bmatrix} \\
&=
\begin{bmatrix}
A_3A_2A_1 & A_3A_2\mathbf t_1 + A_3\mathbf t_2 + \mathbf t_3\\
0 & 1
\end{bmatrix}.
\end{aligned}
$$

将 $T(2,6)$、$S$、$T(-2,-6)$ 分别写成分块形式，有

$$
T(2,6):\ A_1=I,\ \mathbf t_1=\begin{bmatrix}2\\6\end{bmatrix},\qquad S:\ A_2=\begin{bmatrix}2&0\\0&0.2\end{bmatrix},\ \mathbf t_2=\mathbf 0,\qquad T(-2,-6):\ A_3=I,\ \mathbf t_3=\begin{bmatrix}-2\\-6\end{bmatrix}.
$$

因此总体线性部分为

$$
A=A_1A_2A_3 = I\cdot \begin{bmatrix}2&0\\0&0.2\end{bmatrix}\cdot I = \begin{bmatrix}2&0\\0&0.2\end{bmatrix},
$$

总体平移部分为

$$
\mathbf t = A_1A_2\mathbf t_3 + A_1\mathbf t_2 + \mathbf t_1 = \begin{bmatrix}2&0\\0&0.2\end{bmatrix} \begin{bmatrix}-2\\-6\end{bmatrix} +\begin{bmatrix}2\\6\end{bmatrix} = \begin{bmatrix}-4\\-1.2\end{bmatrix} +\begin{bmatrix}2\\6\end{bmatrix} = \begin{bmatrix}-2\\4.8\end{bmatrix}.
$$

从而得到等效单矩阵

$$
M= \begin{bmatrix} A & \mathbf t\\ 0 & 1 \end{bmatrix} = \begin{bmatrix} 2&0&-2\\ 0&0.2&4.8\\ 0&0&1 \end{bmatrix}.
$$

上述结果采用的是列向量表示下的左乘矩阵形式，即点坐标表示为列向量，几何变换通过矩阵左乘实现。在该表示下，复合变换的顺序与矩阵乘法顺序相反。若采用行向量表示，则变换矩阵需置于坐标向量右侧，相应的复合顺序与几何变换顺序一致，此时矩阵形式可由左乘矩阵取转置得到，两种表示方式在几何效果上是等价的。

---

![1767863801550.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767863801550.png)

先将旋转中心平移至原点，执行逆时针旋转 $\pi/4$，再将坐标系平移回原位置。

相应的齐次坐标变换矩阵可表示为

$$
M = T(3,2)\, R(\pi/4)\, T(-3,-2),
$$

其中

$$
T(-3,-2)= \begin{bmatrix} 1&0&-3\\ 0&1&-2\\ 0&0&1 \end{bmatrix},\quad R(\pi/4)= \begin{bmatrix} \cos\frac{\pi}{4}&-\sin\frac{\pi}{4}&0\\ \sin\frac{\pi}{4}&\cos\frac{\pi}{4}&0\\ 0&0&1 \end{bmatrix},\quad T(3,2)= \begin{bmatrix} 1&0&3\\ 0&1&2\\ 0&0&1 \end{bmatrix}.
$$

代入 $\cos\frac{\pi}{4}=\sin\frac{\pi}{4}=\frac{\sqrt{2}}{2}$，并对上述矩阵进行乘法运算，可得最终的复合变换矩阵

$$
M= \begin{bmatrix} \frac{\sqrt{2}}{2} & -\frac{\sqrt{2}}{2} & 3-\frac{\sqrt{2}}{2}\\[4pt] \frac{\sqrt{2}}{2} & \frac{\sqrt{2}}{2} & 2-\frac{5\sqrt{2}}{2}\\[4pt] 0&0&1 \end{bmatrix}.
$$

该矩阵实现了以点 $(3,2)$ 为不动点的逆时针 $\pi/4$ 旋转变换。

![1767864803525.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767864803525.png)
![1767864848497.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767864848497.png)
假设从种子设置为(5,4)

取种子点 $\mathbf{s}=(5,4)$。算法以栈 $S$ 维护待处理像素：初始化 $S=[(5,4)]$；每轮从栈顶弹出像素 $\mathbf{p}$，将其着色，并按“右、上、左、下”依次检查四邻域像素 $\mathbf{q}$。若 $\mathbf{q}\notin \mathcal{B}$ 且尚未着色（并且未在栈内），则将 $\mathbf{q}$ 入栈。栈空时算法终止。由此可得到从 $(5,4)$ 出发、在四连通意义下与之连通且不跨越边界 $\mathcal{B}$ 的所有内部像素被依次填充。

为记录“试填写堆栈的变化过程”，下面给出每次**出栈并完成邻域检查后的栈内容**（表示为“左底、右顶”）以及该步出栈像素：

- 初始：$S=[(5,4)]$
1. 出栈 $(5,4)$，入栈 $(5,5)$；$S=[(5,5)]$
2. 出栈 $(5,5)$，依序入栈 $(6,5),(5,6),(4,5)$；$S=[(6,5),(5,6),(4,5)]$
3. 出栈 $(4,5)$，入栈 $(4,6),(3,5)$；$S=[(6,5),(5,6),(4,6),(3,5)]$
4. 出栈 $(3,5)$，入栈 $(3,6),(3,4)$；$S=[(6,5),(5,6),(4,6),(3,6),(3,4)]$
5. 出栈 $(3,4)$，入栈 $(3,3)$；$S=[(6,5),(5,6),(4,6),(3,6),(3,3)]$
6. 出栈 $(3,3)$，入栈 $(3,2)$；$S=[(6,5),(5,6),(4,6),(3,6),(3,2)]$
7. 出栈 $(3,2)$，入栈 $(4,2)$；$S=[(6,5),(5,6),(4,6),(3,6),(4,2)]$
8. 出栈 $(4,2)$，入栈 $(5,2)$；$S=[(6,5),(5,6),(4,6),(3,6),(5,2)]$
9. 出栈 $(5,2)$，入栈 $(6,2)$；$S=[(6,5),(5,6),(4,6),(3,6),(6,2)]$
10. 出栈 $(6,2)$，入栈 $(6,3)$；$S=[(6,5),(5,6),(4,6),(3,6),(6,3)]$
11. 出栈 $(6,3)$，入栈 $(7,3)$；$S=[(6,5),(5,6),(4,6),(3,6),(7,3)]$
12. 出栈 $(7,3)$，依序入栈 $(8,3),(7,4)$；$S=[(6,5),(5,6),(4,6),(3,6),(8,3),(7,4)]$
13. 出栈 $(7,4)$，入栈 $(7,5)$；$S=[(6,5),(5,6),(4,6),(3,6),(8,3),(7,5)]$
14. 出栈 $(7,5)$，无新入栈；$S=[(6,5),(5,6),(4,6),(3,6),(8,3)]$
15. 出栈 $(8,3)$，无新入栈；$S=[(6,5),(5,6),(4,6),(3,6)]$
16. 出栈 $(3,6)$，无新入栈；$S=[(6,5),(5,6),(4,6)]$
17. 出栈 $(4,6)$，无新入栈；$S=[(6,5),(5,6)]$
18. 出栈 $(5,6)$，入栈 $(6,6)$；$S=[(6,5),(6,6)]$
19. 出栈 $(6,6)$，无新入栈；$S=[(6,5)]$
20. 出栈 $(6,5)$，无新入栈；$S=[]$（终止）

由上述过程可见，填充在有限步内终止（栈为空），并覆盖了所有与种子点 $(5,4)$ 四连通可达且不穿越边界 $\mathcal{B}$ 的内部像素。若实现中允许重复入栈（仅在出栈时判“是否已填充”），则最终填充区域不变，但堆栈序列会出现冗余项，记录表也会更长,可以采用扫描线种子填充算法解决这个问题

![1767864924125.png](https://tk-pichost-1325224430.cos.ap-chengdu.myqcloud.com/blog/1767864924125.png)

该多边形为三角形，其顶点可由图读出为

$$
V_1(1,1),\quad V_2(1,3),\quad V_3(3,2).
$$

采用扫描线填充的 ET/AET 构造约定：忽略水平边；每条边在 ET 中以 $(y_{\max},x_{y_{\min}},\Delta x/\Delta y)$ 记录，并按 $y_{\min}$ 归入对应桶；AET 在每条扫描线 $y$ 处先删除满足 $y=y_{\max}$ 的边，再插入 ET\[y\]，并按当前交点 $x$ 升序维护；处理完该扫描线后令 $x\leftarrow x+\Delta x/\Delta y$ 以用于下一条扫描线。

三条边分别为：

- $e_{12}: (1,1)\to(1,3)$，$y_{\min}=1,y_{\max}=3$，$x_{y_{\min}}=1$，$\Delta x/\Delta y=0$；
- $e_{23}: (3,2)\to(1,3)$，$y_{\min}=2,y_{\max}=3$，$x_{y_{\min}}=3$，$\Delta x/\Delta y=-2$；
- $e_{31}: (1,1)\to(3,2)$，$y_{\min}=1,y_{\max}=2$，$x_{y_{\min}}=1$，$\Delta x/\Delta y=2$。

因此边表 ET（按桶 $y=y_{\min}$）为：

- $\mathrm{ET}[1]:\ \{(y_{\max}=3,\ x=1,\ \Delta x/\Delta y=0),\ (y_{\max}=2,\ x=1,\ \Delta x/\Delta y=2)\}$
- $\mathrm{ET}[2]:\ \{(y_{\max}=3,\ x=3,\ \Delta x/\Delta y=-2)\}$
- $\mathrm{ET}[3]:\ \varnothing$

活动边表 AET 的演化（给出每条扫描线开始时的 AET，及该线结束后的 $x$ 更新结果）如下：

- 扫描线 $y=1$：插入 $\mathrm{ET}[1]$，
	$$
	\mathrm{AET}(y{=}1)=\big[(3,1,0),(2,1,2)\big]
	$$
	更新到下一线（$y=2$）的交点：$x:1\to1$（第一条），$x:1\to3$（第二条）。
- 扫描线 $y=2$：先删除 $y_{\max}=2$ 的边（即 $(2,3,2)$ 对应那条），再插入 $\mathrm{ET}[2]$，
	$$
	\mathrm{AET}(y{=}2)=\big[(3,1,0),(3,3,-2)\big]
	$$
	更新到下一线（$y=3$）的交点：$x:1\to1$，$x:3\to1$。
- 扫描线 $y=3$：删除 $y_{\max}=3$ 的边后 $\mathrm{AET}=\varnothing$，算法结束。

